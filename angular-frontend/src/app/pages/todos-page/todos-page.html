<div class="app-wrapper">

    <h1 class="text-4xl font-bold text-center">My Todo List.</h1>

    <div class="card">
        <p-table 
            (onRowSelect)="onRowSelect($event)"
            (onRowUnselect)="onRowUnselect($event)"
            [value]="todos()" 
            [(selection)]="selectedTodos" 
            dataKey="id"
            [tableStyle]="{'min-width': '50rem'}">
            <ng-template #header>
                <tr>
                    <th style="width: 4rem"></th>
                    <th>Id</th>
                    <th>Title</th>
                    <th style="text-align: right; width: 300px;">Actions</th>
                </tr>
            </ng-template>
            <ng-template #body let-item>
                <tr>
                    <td>
                        <p-tableCheckbox [value]="item" />
                    </td>
                    <td>{{item.id}}</td>
                    <td [ngClass]="{'todo-closed': item.status == 'CLOSED'}">{{item.title}}</td>
                    <td style="display: flex; gap: 10px; width: 300px; justify-content: flex-end;">
                        <p-button (onClick)="deleteTodo(item)" text severity="danger" label="Delete"></p-button>
                        <p-button (onClick)="previewTodo(item)" outlined label="Open Details"></p-button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
    <app-add-todo-form></app-add-todo-form>
    <router-outlet></router-outlet>
</div>